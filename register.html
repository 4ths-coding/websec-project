<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="registration.css">
    <title>Document</title>
</head>
<body>
    
    <div class="login-container">
        <h2>Registration</h2>
            <input type="text" id="username" placeholder="username" required>
            <input type="password" id="password" placeholder="Password" required>
            <div id="strengthBarContainer" style="width: 200px; border: 1px solid #ccc;">
                <div id="strengthBar" style="height: 10px; width: 0%; background-color: red;"></div>
            </div>
            <div id="passwordErrors"></div>
            <button onclick="validateLogin()">Register</button>
    
           
               
        </div>
    <script>
function validateLogin() {
            let username = document.getElementById("username").value;
            let password = document.getElementById("password").value;
            let strength = 0;
            let errors = [];
            // Basic validation example: check if fields are not empty
            if (username === "" || password === "") {
                alert("Please enter both username and password.");
                return; // Stop further execution
            }

            // You can add more complex validation here, like:
            // - Checking password strength
            // - Checking if username exists in a database (if you have one)
            // - Checking for valid username formats (e.g., email)

            // Example of minimal password length check
            if (password.length < 8) {
                alert("Password must be at least 8 characters long.");
                return;
            } else {
                strength++;
            }
            if (password.match(/[a-z]/)) {
                strength++;
            } else {
                error.push("Password must contain at least one lowercase letter.");
            }
            if (password.match(/[A-Z]/)) {
                strength++;
            } else {
                errors.push("Password must contain at least one uppercase letter.");
            }
            if (password.match(/[0-9]/)) {
                strength++;
            } else {
                errors.push("Password must contain at least one number.");
            }
            if (password.match(/[^a-zA-Z0-9]/)) {
                strength++;
            } else {
                errors.push("Password must contain at least one special character.");
            }

            return {
                strength: strength,
                errors: errors,
                };
            
            // Example of a simple username validation
            if (username.length < 3) {
              alert("Username must be at least 3 characters long.");
              return;
            }

            console.log("Registration successful:", { username, password });
            alert("Registration Successful!");

            document.getElementById("username").value = "";
            document.getElementById("password").value = "";
        }
        function displayPasswordStrengthBar(password, strengthBar, errorsElement) {
            const result = checkPasswordStrength(password);
            const strength = result.strength;

            const barWidth = (strength / 5) * 100;
            strengthBar.style.width = `${barWidth}%`;

            if (strength <= 2) {
                strengthBar.style.backgroundColor = "red";
            } else if (strength <= 4) {
                strengthBar.style.backgroundColor = "orange";
            } else {
                strengthbar.style.backgroundColor = "green";
            }

            if (result.errors.length > 0) {
                errorsElement.innerHTML = `<ul>${result.errors.map((error) => `<li>${error}</li>`).join("")}</ul>`;
            } else {
                errorsElement.innerHTML = ""; //Clear errors
            }
        }
    </script>

</body>
</html>
